<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1"><!-- Begin Jekyll SEO tag v2.6.1 -->
<title>Ruby script to generate 3D subtitles from srt files | Prab’s Code Blog</title>
<meta name="generator" content="Jekyll v3.8.6" />
<meta property="og:title" content="Ruby script to generate 3D subtitles from srt files" />
<meta name="author" content="Prabhakar Kumar" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="So, you’ve got a bunch of 3D movies with SRT subtitles which your 3D TV can play from a USB storage and show the subtitles correctly but can not if you are running the movie on your laptop and sending the display to TV over HDMI; for obvious reasons. The solution is to use .ass format subtitles with your media player(I recommed mplayer/smplayer). Just run this script from a directory that contains all your movies in separate directories under that directory. Make sure, srt file is present in each 3D movie directory and has the same name as the movie file. Also make sure, the directories for 3D movies have 3D in their names somewhere. Moreover, you must have the program sub3dtool installed. Get it from here. After you run the script, all your 3D movie directories will be populated with .ass files automatically. Remember, VLC media player does not play well with .ass subtitles. It skips many dialogues." />
<meta property="og:description" content="So, you’ve got a bunch of 3D movies with SRT subtitles which your 3D TV can play from a USB storage and show the subtitles correctly but can not if you are running the movie on your laptop and sending the display to TV over HDMI; for obvious reasons. The solution is to use .ass format subtitles with your media player(I recommed mplayer/smplayer). Just run this script from a directory that contains all your movies in separate directories under that directory. Make sure, srt file is present in each 3D movie directory and has the same name as the movie file. Also make sure, the directories for 3D movies have 3D in their names somewhere. Moreover, you must have the program sub3dtool installed. Get it from here. After you run the script, all your 3D movie directories will be populated with .ass files automatically. Remember, VLC media player does not play well with .ass subtitles. It skips many dialogues." />
<link rel="canonical" href="http://techbeat.in/2014/01/27/script-to-generate-3d-subtitles-from-srt-files.html" />
<meta property="og:url" content="http://techbeat.in/2014/01/27/script-to-generate-3d-subtitles-from-srt-files.html" />
<meta property="og:site_name" content="Prab’s Code Blog" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2014-01-27T00:09:00-08:00" />
<script type="application/ld+json">
{"dateModified":"2014-01-27T00:09:00-08:00","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"http://techbeat.in/2014/01/27/script-to-generate-3d-subtitles-from-srt-files.html"},"datePublished":"2014-01-27T00:09:00-08:00","url":"http://techbeat.in/2014/01/27/script-to-generate-3d-subtitles-from-srt-files.html","author":{"@type":"Person","name":"Prabhakar Kumar"},"headline":"Ruby script to generate 3D subtitles from srt files","description":"So, you’ve got a bunch of 3D movies with SRT subtitles which your 3D TV can play from a USB storage and show the subtitles correctly but can not if you are running the movie on your laptop and sending the display to TV over HDMI; for obvious reasons. The solution is to use .ass format subtitles with your media player(I recommed mplayer/smplayer). Just run this script from a directory that contains all your movies in separate directories under that directory. Make sure, srt file is present in each 3D movie directory and has the same name as the movie file. Also make sure, the directories for 3D movies have 3D in their names somewhere. Moreover, you must have the program sub3dtool installed. Get it from here. After you run the script, all your 3D movie directories will be populated with .ass files automatically. Remember, VLC media player does not play well with .ass subtitles. It skips many dialogues.","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/assets/main.css"><link type="application/atom+xml" rel="alternate" href="http://techbeat.in/feed.xml" title="Prab's Code Blog" /><script>
if(!(window.doNotTrack === "1" || navigator.doNotTrack === "1" || navigator.doNotTrack === "yes" || navigator.msDoNotTrack === "1")) {
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-20481925-1', 'auto');
  ga('send', 'pageview');
}
</script>
  
</head>
<body><header class="site-header" role="banner">

  <div class="wrapper"><a class="site-title" rel="author" href="/">Prab&#39;s Code Blog</a><nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger" />
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"/>
            </svg>
          </span>
        </label>

        <div class="trigger">
            <a class="page-link" href="/">All Posts</a><a class="page-link" href="/about.html">About Me</a></div>
      </nav></div>
</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title p-name" itemprop="name headline">Ruby script to generate 3D subtitles from srt files</h1>
    <p class="post-meta">
      <time class="dt-published" datetime="2014-01-27T00:09:00-08:00" itemprop="datePublished">Jan 27, 2014
      </time></p>
  </header>

  <div class="post-content e-content" itemprop="articleBody">
    <p>So, you’ve got a bunch of 3D movies with SRT subtitles which your 3D TV can play from a USB storage and show the subtitles correctly but can not if you are running the movie on your laptop and sending the display to TV over HDMI; for obvious reasons.
The solution is to use <em>.ass</em> format subtitles with your media player(I recommed mplayer/smplayer). Just run this script from a directory that contains all your movies in separate directories under that directory. Make sure, <code class="highlighter-rouge">srt</code> file is present in each 3D movie directory and has the same name as the movie file. Also make sure, the directories for 3D movies have 3D in their names somewhere. Moreover, you must have the program <code class="highlighter-rouge">sub3dtool</code> installed. Get it from <a href="https://code.google.com/p/sub3dtool/">here</a>. After you run the script, all your 3D movie directories will be populated with .ass files automatically. Remember, VLC media player does not play well with <code class="highlighter-rouge">.ass</code> subtitles. It skips many dialogues.</p>

<figure class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="no">Dir</span><span class="p">.</span><span class="nf">entries</span><span class="p">(</span><span class="s2">"."</span><span class="p">).</span><span class="nf">each</span> <span class="k">do</span> <span class="o">|</span><span class="n">file</span><span class="o">|</span>
  <span class="k">if</span> <span class="n">file</span><span class="p">.</span><span class="nf">include?</span> <span class="s2">"3D"</span>
    <span class="nb">puts</span> <span class="s2">"3D movie found - </span><span class="si">#{</span><span class="n">file</span><span class="si">}</span><span class="s2">. Going ahead to generate .ass subtitle for it"</span>
    <span class="no">Dir</span><span class="p">.</span><span class="nf">entries</span><span class="p">(</span><span class="n">file</span><span class="p">).</span><span class="nf">each</span> <span class="k">do</span> <span class="o">|</span><span class="n">file1</span><span class="o">|</span>
      <span class="k">if</span> <span class="n">file1</span><span class="p">.</span><span class="nf">include?</span> <span class="s2">".srt"</span>
        <span class="nb">puts</span> <span class="s2">"Found srt file: </span><span class="si">#{</span><span class="n">file1</span><span class="si">}</span><span class="s2">"</span>
        <span class="n">outfile_name</span> <span class="o">=</span> <span class="s2">"</span><span class="si">#{</span><span class="n">file1</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="n">file1</span><span class="p">.</span><span class="nf">length</span><span class="o">-</span><span class="mi">3</span><span class="p">]</span><span class="si">}</span><span class="s2">ass"</span>
        <span class="nb">puts</span> <span class="s2">"Out file name : </span><span class="si">#{</span><span class="n">outfile_name</span><span class="si">}</span><span class="s2">"</span>
        <span class="sb">`sub3dtool "</span><span class="si">#{</span><span class="n">file</span><span class="si">}</span><span class="sb">/</span><span class="si">#{</span><span class="n">file1</span><span class="si">}</span><span class="sb">" --3dsbs -o "</span><span class="si">#{</span><span class="n">file</span><span class="si">}</span><span class="sb">/</span><span class="si">#{</span><span class="n">outfile_name</span><span class="si">}</span><span class="sb">"`</span>
        <span class="nb">puts</span> <span class="s2">"Generated successfully"</span>
      <span class="k">end</span>
    <span class="k">end</span>
  <span class="k">end</span>
<span class="k">end</span></code></pre></figure>

<p>All the movie directories will be populated with corresponding <em>.ass</em> files. Now just run it by <code class="highlighter-rouge">mplayer -ass movie_file_name</code>. Use <code class="highlighter-rouge">j</code> to cycle through subtitles, <code class="highlighter-rouge">f</code> for fullscreen, <code class="highlighter-rouge">q</code> to quit mplayer.</p>

  </div>

	<span>Tags: [
		
			
			<a href="/tag/ruby"><code class="highligher-rouge"><nobr>ruby</nobr></code></a>
		
	]</span><div id="disqus_thread"></div>
  <script>
    var disqus_config = function () {
      this.page.url = 'http://techbeat.in/2014/01/27/script-to-generate-3d-subtitles-from-srt-files.html';
      this.page.identifier = 'http://techbeat.in/2014/01/27/script-to-generate-3d-subtitles-from-srt-files.html';
    };

    (function() {
      var d = document, s = d.createElement('script');

      s.src = 'https://techbite.disqus.com/embed.js';

      s.setAttribute('data-timestamp', +new Date());
      (d.head || d.body).appendChild(s);
    })();
  </script>
  <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>

<a class="u-url" href="/2014/01/27/script-to-generate-3d-subtitles-from-srt-files.html" hidden></a>
</article>

      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/"></data>

  <div class="wrapper">

    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li class="p-name">Prabhakar Kumar</li>
        </ul>
      </div>

      <div class="footer-col footer-col-2"><ul class="social-media-list"><li><a href="https://www.facebook.com/prabhakar97"><svg class="svg-icon"><use xlink:href="/assets/minima-social-icons.svg#facebook"></use></svg> <span class="username">prabhakar97</span></a></li><li><a href="https://github.com/prabhakar97"><svg class="svg-icon"><use xlink:href="/assets/minima-social-icons.svg#github"></use></svg> <span class="username">prabhakar97</span></a></li><li><a href="https://instagram.com/prab97"><svg class="svg-icon"><use xlink:href="/assets/minima-social-icons.svg#instagram"></use></svg> <span class="username">prab97</span></a></li><li><a href="https://www.linkedin.com/in/prabhakar97"><svg class="svg-icon"><use xlink:href="/assets/minima-social-icons.svg#linkedin"></use></svg> <span class="username">prabhakar97</span></a></li><li><a href="https://www.twitter.com/prab97"><svg class="svg-icon"><use xlink:href="/assets/minima-social-icons.svg#twitter"></use></svg> <span class="username">prab97</span></a></li></ul>
</div>

      <div class="footer-col footer-col-3">
        <p>My blog about programming and software development.</p>
      </div>
    </div>

  </div>

</footer>
</body>

</html>
